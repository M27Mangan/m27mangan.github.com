<!DOCTYPE html>
<html lang="en">

<head>

  <!--  Meta  -->
  <meta charset="UTF-8" />
  <title>Abtex - Signature Generator</title>

  <!--  Styles  -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" integrity="sha384-PmY9l28YgO4JwMKbTvgaS7XNZJ30MK9FAZjjzXtlqyZCqBY6X6bXIkM++IkyinN+" crossorigin="anonymous">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha384-vhJnz1OVIdLktyixHY4Uk3OHEwdQqPppqYR8+5mjsauETgLOcEynD9oPHhhz18Nw" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <!-- <link rel="stylesheet" href="styles/index.processed.css"> -->

  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" /> -->
  <!-- <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/responsive.css"> -->
  <style type="text/css">
      @import url('https://fonts.googleapis.com/css?family=Raleway');

      body {
         background-color: #f7f7f7;
      }

      h1 {
      text-align: center;
      color: rgb(238, 53, 37);
      font-family: Corbel; Arial;
      margin-top: 40px
      }

      fieldset
      {
      background-color: transparent;
      max-width:500px;
      padding:16px;	
      border: solid;
      border-color: #333;
      border-width: 1px;
         -moz-border-radius:8px;
         -webkit-border-radius:8px;	
         border-radius:8px;	
         margin: 0 auto;

      }
      legend{
         margin: 10px 0 0;
         width: auto;
         border:0;
      }
      label {
      /*   width: 150px; */
      text-align: right;
      }

      input {
         margin: 2px;
      }

      textarea{
            display: block;
         resize: vertical;
         padding: 5px 15px;
         line-height: 1.5;
         -webkit-box-sizing: border-box;
         box-sizing: border-box;
         width: 100%;
         font-size: inherit;
         color: #606266;
         background-color: #fff;
         background-image: none;
         border: 1px solid #dcdfe6;
         border-radius: 4px;
         -webkit-transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
         transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
      }

      .sign-off {
      position:fixed;
      width:100%;
      bottom:10px;
      font-size:12px;
      color:#999;
      margin-top:200px;
      text-align: center;
      font-family: Raleway;
         display:none;
      }

      h1, label, legend {
         font-family: Raleway;
      }

      .dialog__wrapper {
         position: fixed;
         top: 0;
         right: 0;
         bottom: 0;
         left: 0;
         overflow: auto;
         margin: 0;
      }
      .dialog {
         position: relative;
         margin: 0 auto 50px;
         background: #fff;
         border-radius: 2px;
         -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
         box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
         -webkit-box-sizing: border-box;
         box-sizing: border-box;
         width: 50%;
      }
      .dialog__header {
         padding: 20px;
         padding-bottom: 10px;
      }
      .dialog__title {
         line-height: 24px;
         font-size: 18px;
         color: #303133;
      }
      .dialog__headerbtn {
         position: absolute;
         top: 20px;
         right: 20px;
         padding: 0;
         background: transparent;
         border: none;
         outline: none;
         cursor: pointer;
         font-size: 16px;
      }
      .dialog__body {
         padding: 30px 20px;
         color: #606266;
         font-size: 14px;
      }
 </style>
</head>
<body>
   <div class="container">
      
      <h1 class="title">Email signature generator</h1>
      </br>
      <div class="row">
         <div class="col-md-6">
            <fieldset>
         <legend>Your Information</legend>
         <label for="nm">Name</label>
         <input type="text" name="nm" id="nm" required placeholder="First Last"><br/>
         <label for="pos">Position </label>
         <input type="text" name="pos" id="pos" required placeholder="Employee"><br/>
         <label for="tel">Direct # </label>
         <input type="text" name="tl" id="tl" required placeholder="315 555 5555" onkeydown="javascript:backspacerDOWN(this,event);" onkeyup="javascript:backspacerUP(this,event);"> <br>
         <label for="mobile">Cell # (optional) </label>
         <input type="text" name="mb" id="mb" required placeholder="315 555 5555" onkeydown="javascript:backspacerDOWN(this,event);" onkeyup="javascript:backspacerUP(this,event);"> <br>
         <small>Please enter your phone numbers as "1234567890", the field will automatically format your entry to match company standards.</small> <br><br>
         <fieldset>
            <legend>Select Logo Type:</legend>
            <input id="abtexPlain" type="radio" name="logo" value="standard" checked>
            <label for="abtexPlain">Abtex</label><br>
            <input id="abtexDS" type="radio" name="logo" value="ds">
            <label for="abtexDS">Abtex DS</label><br>
         </fieldset>
      </fieldset>
      </br>
      </br>
      <button class="btn btn-primary" onclick="reviewFunction()">Update Preview</button>
      <button class="btn btn-success" onclick="getFunction()"  data-toggle="modal" data-target="#myModal">Get My Signature</button>
      <!-- <input type="checkbox" id="review" name="review" onchange="reviewFunction()" />
      <label for="review">Preview</b></label></br>
      
      <input type="checkbox" id="get" name="get" onchange="getFunction()"  data-toggle="modal" data-target="#myModal"/>
      <label for="get">Get my code</label> -->
         </div>
         <div class="col-md-6">
            <div id="htmlcode" style="background-color: #ffffff"><table border="0"cellpadding="0"cellspacing="0"style="font-family:Arial,Helvetica,sans-serif;line-height:1.5;font-size:12px; background-color:none!important;" bg-color="#ffffff"><tr><td bg-color="#ffffff" style="vertical-align:top"><a href="http://www.abtex.com/"target="_blank"><img src="https://mangan.io/abtex/img/Abtex-logo-TAG-color.png"style="margin-right:10px;height:auto;width:170px"id="companyLogo"title="Abtex Logo"></a><td style="vertical-align:top;padding-left:8px;border-left:2px solid"><table bg-color="#ffffff" border="0"cellpadding="0"cellspacing="0"style="font-size:11px"><tr><td><span id="name"style="font-weight:600;font-size:12px;color:#222">Jason Saner</span><tr><td><em><span id="position">President</span></em><tr><td><table bg-color="#ffffff" border="0"cellpadding="0"cellspacing="0"style="margin-top:5px;font-size:11px"><tr><td><span style="font-weight:600;color:#222"><a href="http://www.abtex.com"style="text-decoration:none;color:inherit">www.abtex.com</a></span><tr><td><span>89 Main Street | Dresden, New York 14441</span><tr><td><span id="tel"><strong>D: </strong>(XXX) XXX-XXXX</span> <span style="font-weight:600;color:#222">O: </span><span>(315) 536-7403</span> <span id="mobile"><strong>C: </strong>(XXX) XXX-XXXX</span></table><tr><td><table border="0"cellpadding="0"cellspacing="0"style="margin-top:5px"><tr><td style="padding-right:3px"align="center"><a href="https://www.linkedin.com/company/abtex-corporation/"target="_blank"><div style="width:20px;height:20px;border-radius:3px;font-size:12px;line-height:18px;background-color:#ee3525; min-width:18px;"><img src="https://s3.eu-central-1.amazonaws.com/mysigmail/icons/linkedin.png"style="vertical-align:middle"alt=""width="12px"></div></a><td style="padding-right:3px"align="center"><a href="https://www.youtube.com/user/abtexcorporation?feature=results_main"target="_blank"><div style="width:20px;height:20px;border-radius:3px;font-size:12px;line-height:18px;background-color:#ee3525; min-width:18px;"><img src="https://s3.eu-central-1.amazonaws.com/mysigmail/icons/youtube.png"style="vertical-align:middle"alt=""width="12px"></div></a></table></table></table></div>
               <br>
               <hr>
               <br>
               <h4>Click on a title below to expand the instructions for adding the copied signature to your email client.</h4>
               <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                     <div class="panel panel-default">
                       <div class="panel-heading" role="tab" id="headingOne">
                         <h4 class="panel-title">
                           <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                 Adding signature to Gmail
                           </a>
                         </h4>
                       </div>
                       <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                         <div class="panel-body">
                              <h2>Add or change a signature</h2>
                              <p>You can put up to 10,000 characters in your signature.</p>
                              <ol>
                                <li>Open <a href="https://mail.google.com/" target="_blank" rel="noopener">Gmail</a>.</li>
                                <li>In the top right, click Settings <img src="//lh3.googleusercontent.com/iK54sRM8QELKETjD5PyshCuCL_NAhpUYkHhJVIAoY3NAoV3zNncQJvgvylkSZzVsdXJW=w18-h18" width="18" height="18" alt="Settings" title="Settings"> <img src="//lh3.googleusercontent.com/tBULk9Mb_rJwZCqpiX4HV29lHDNjFZ5W5sQPwWslEmv0CwuR_cG3sz_KtEemC48YZ8s=w18-h18" width="18" height="18" alt="and then" title="and then"> <strong>Settings</strong>.</li>
                                <li>In the "Signature" section, add your signature text in the box. If you want, you can format your message by adding an image or changing the text style.</li>
                                <li>At the bottom of the page, click <strong>Save Changes</strong>.</li>
                              </ol>
                              <p><strong>See the official article on <a href="https://support.google.com/mail/answer/8395?co=GENIE.Platform%3DDesktop&hl=en&oco=1" target="_blank">Google.com</a> for more information.</strong></p>
                         </div>
                       </div>
                     </div>
                     <div class="panel panel-default">
                       <div class="panel-heading" role="tab" id="headingTwo">
                         <h4 class="panel-title">
                           <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                 Adding signature to Outlook
                           </a>
                         </h4>
                       </div>
                       <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                         <div class="panel-body">
                              <p><strong>See the official article on <a href="https://support.office.com/en-us/article/create-and-add-a-signature-to-messages-8ee5d4f4-68fd-464a-a1c1-0e1c80bb27f2#bkmk_logo" target="_blank">Microsoft.com</a> for details related to your specific version of outlook.</strong></p>
                         </div>
                       </div>
                     </div>
                   </div>
         </div>
      </div>
      <div id="code"></div>
      <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="myModal">
     <div class="modal-dialog" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
           <h4 class="modal-title">Email Signature Code:</h4>
         </div>
         <div class="modal-body">
            <div id="finalCopyOutput" style="background-color: #ffffff"></div>
           <textarea id="codeOutput" autocomplete="off" rows="10" class="el-textarea__inner sr-only" style="min-height: 33px; z-index: auto; position: relative; line-height: 21px; font-size: 14px; transition: none 0s ease 0s; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255);" spellcheck="true"></textarea>
         </div>
         <div class="modal-footer">
           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
           <button type="button" class="btn btn-primary" id="copyVisual"  data-clipboard-target="#htmlcode"><span>Copy Signature</span></button>
            <!-- <button type="button" class="btn btn-primary" id="copyMarkup"  data-clipboard-target="#codeOutput"><span>Copy Code (Advanced)</span></button> -->
         </div>
       </div><!-- /.modal-content -->
     </div><!-- /.modal-dialog -->
   </div><!-- /.modal -->
      <p class="sign-off">Questions or problems?</p>
      

<script type="text/javascript">

var zChar = new Array(' ', '(', ')', '-', '.');
var maxphonelength = 13;
var phonevalue1;
var phonevalue2;
var cursorposition;

function ParseForNumber1(object) {
    phonevalue1 = ParseChar(object.value, zChar);
}

function ParseForNumber2(object) {
    phonevalue2 = ParseChar(object.value, zChar);
}

function backspacerUP(object, e) {
    if (e) {
        e = e
    } else {
        e = window.event
    }
    if (e.which) {
        var keycode = e.which
    } else {
        var keycode = e.keyCode
    }

    ParseForNumber1(object)

    if (keycode >= 48) {
        ValidatePhone(object)
    }
}

function backspacerDOWN(object, e) {
    if (e) {
        e = e
    } else {
        e = window.event
    }
    if (e.which) {
        var keycode = e.which
    } else {
        var keycode = e.keyCode
    }
    ParseForNumber2(object)
}

function GetCursorPosition() {

    var t1 = phonevalue1;
    var t2 = phonevalue2;
    var bool = false
    for (i = 0; i < t1.length; i++) {
        if (t1.substring(i, 1) != t2.substring(i, 1)) {
            if (!bool) {
                cursorposition = i
                bool = true
            }
        }
    }
}

function ValidatePhone(object) {

    var p = phonevalue1

    p = p.replace(/[^\d]*/gi, "")

    if (p.length < 3) {
        object.value = p
    } else if (p.length == 3) {
        pp = p;
        d4 = p.indexOf('(')
        d5 = p.indexOf(')')
        if (d4 == -1) {
            pp = "(" + pp;
        }
        if (d5 == -1) {
            pp = pp + ")";
        }
        object.value = pp;
    } else if (p.length > 3 && p.length < 7) {
        p = "(" + p;
        l30 = p.length;
        p30 = p.substring(0, 4);
        p30 = p30 + ")"

        p31 = p.substring(4, l30);
        pp = p30 + p31;

        object.value = pp;

    } else if (p.length >= 7) {
        p = "(" + p;
        l30 = p.length;
        p30 = p.substring(0, 4);
        p30 = p30 + ")"

        p31 = p.substring(4, l30);
        pp = p30 + p31;

        l40 = pp.length;
        p40 = pp.substring(0, 8);
        p40 = p40 + "-"

        p41 = pp.substring(8, l40);
        ppp = p40 + p41;

        object.value = ppp.substring(0, maxphonelength);
    }

    GetCursorPosition()

    if (cursorposition >= 0) {
        if (cursorposition == 0) {
            cursorposition = 2
        } else if (cursorposition <= 2) {
            cursorposition = cursorposition + 1
        } else if (cursorposition <= 5) {
            cursorposition = cursorposition + 2
        } else if (cursorposition == 6) {
            cursorposition = cursorposition + 2
        } else if (cursorposition == 7) {
            cursorposition = cursorposition + 4
            e1 = object.value.indexOf(')')
            e2 = object.value.indexOf('-')
            if (e1 > -1 && e2 > -1) {
                if (e2 - e1 == 4) {
                    cursorposition = cursorposition - 1
                }
            }
        } else if (cursorposition < 11) {
            cursorposition = cursorposition + 3
        } else if (cursorposition == 11) {
            cursorposition = cursorposition + 1
        } else if (cursorposition >= 12) {
            cursorposition = cursorposition
        }

        var txtRange = object.createTextRange();
        txtRange.moveStart("character", cursorposition);
        txtRange.moveEnd("character", cursorposition - object.value.length);
        txtRange.select();
    }

}

function ParseChar(sStr, sChar) {
    if (sChar.length == null) {
        zChar = new Array(sChar);
    } else zChar = sChar;

    for (i = 0; i < zChar.length; i++) {
        sNewStr = "";

        var iStart = 0;
        var iEnd = sStr.indexOf(sChar[i]);

        while (iEnd != -1) {
            sNewStr += sStr.substring(iStart, iEnd);
            iStart = iEnd + 1;
            iEnd = sStr.indexOf(sChar[i], iStart);
        }
        sNewStr += sStr.substring(sStr.lastIndexOf(sChar[i]) + 1, sStr.length);

        sStr = sNewStr;
    }

    return sNewStr;
}

$('input:radio[name="logo"]').change(
    function(){
    var src = "";
        if ($(this).val() == 'standard') {
						src = "https://mangan.io/abtex/img/Abtex-logo-TAG-color.png";
        }
        else if ($(this).val() == 'ds') {
						src = "https://mangan.io/abtex/img/Abtex-DS-TAG-color.png";
        }
        else{
        	src = "https://mangan.io/abtex/img/Abtex-logo-TAG-color.png"
        }
        
        $('#companyLogo').attr('src',src);
        console.log('logo changed');
    });
var preview = document.getElementById('review'),
    fullname = document.getElementById('name'),
    position = document.getElementById('position'),
    tel = document.getElementById('tel'),
    mobile = document.getElementById('mobile');
function reviewFunction(){
		//if (preview.checked) {
         console.log('Update Preview button active');
      fullname.innerHTML = nm.value;
      position.innerHTML = pos.value;
         if(tl.value !=''){
            tel.innerHTML = '<strong>D:&nbsp;</strong>' + tl.value;
         } else{
            tel.innerHTML = '';
         }
         if(mb.value !=''){
            mobile.innerHTML = '<strong>C:&nbsp;</strong>' + mb.value;
         } else{
            mobile.innerHTML = '';
         }
      //}
}

function getFunction(){
		//if (document.getElementById('get').checked) { 
         console.log('Get My Code button active');
		var e=document.getElementById("htmlcode");
         var codeFinal=document.getElementById("codeOutput");
         var visualFinal=document.getElementById("finalCopyOutput");
         codeFinal.innerHTML=e.innerHTML; visualFinal.innerHTML=e.innerHTML;

      
         
 		//}
 	
		}
      </script>
      <script type="text/javascript">
         // var markupBtn = document.getElementById('copyMarkup');
         // var visualBtn = document.getElementById('copyVisual');
         // var clipboard = new ClipboardJS('markupBtn');
         var clipboardVisual = new ClipboardJS('#copyVisual');
         // clipboard.on('success', function(codeFinal) {
         //     console.log(codeFinal);
         //     alert('Email Signature Copied to Clipboard!');
         // });
         // clipboard.on('error', function(codeFinal) {
         //     console.log(codeFinal);
         // });
         clipboardVisual.on('success', function(visualFinal) {
             console.log(visualFinal);
             alert('Email Signature Copied to Clipboard!');
         });
         clipboardVisual.on('error', function(visualFinal) {
             console.log(visualFinal);
         });
         </script>
<!-- <script src="scripts/index.js"></script> -->
</body>

</html>