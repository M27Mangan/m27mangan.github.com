<!DOCTYPE html>
<html lang="en">

  <head>

    <!--  Meta  -->
    <meta charset="UTF-8" />
    <title>Excellus - Signature Generator</title>

    <!--  Styles  -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" integrity="sha384-PmY9l28YgO4JwMKbTvgaS7XNZJ30MK9FAZjjzXtlqyZCqBY6X6bXIkM++IkyinN+" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha384-vhJnz1OVIdLktyixHY4Uk3OHEwdQqPppqYR8+5mjsauETgLOcEynD9oPHhhz18Nw" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style type="text/css">
      @import url('https://fonts.googleapis.com/css?family=Raleway');

      body {
        background-color: #f7f7f7;
      }

      h1 {
        text-align: center;
        font-family: Corbel;
        Arial;
        margin-top: 40px
      }

      fieldset {
        background-color: transparent;
        max-width: 500px;
        padding: 16px;
        border: solid;
        border-color: #333;
        border-width: 1px;
        -moz-border-radius: 8px;
        -webkit-border-radius: 8px;
        border-radius: 8px;
        margin: 0 auto;

      }

      legend {
        margin: 10px 0 0;
        width: auto;
        border: 0;
      }

      label {
        /*   width: 150px; */
        text-align: right;
      }

      input {
        margin: 2px;
      }

      textarea {
        display: block;
        resize: vertical;
        padding: 5px 15px;
        line-height: 1.5;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        width: 100%;
        font-size: inherit;
        color: #606266;
        background-color: #fff;
        background-image: none;
        border: 1px solid #dcdfe6;
        border-radius: 4px;
        -webkit-transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
        transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
      }

      .sign-off {
        position: fixed;
        width: 100%;
        bottom: 10px;
        font-size: 12px;
        color: #999;
        margin-top: 200px;
        text-align: center;
        font-family: Raleway;
        display: none;
      }

      h1,
      label,
      legend {
        font-family: Raleway;
      }

      .dialog__wrapper {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        overflow: auto;
        margin: 0;
      }

      .dialog {
        position: relative;
        margin: 0 auto 50px;
        background: #fff;
        border-radius: 2px;
        -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        width: 50%;
      }

      .dialog__header {
        padding: 20px;
        padding-bottom: 10px;
      }

      .dialog__title {
        line-height: 24px;
        font-size: 18px;
        color: #303133;
      }

      .dialog__headerbtn {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 0;
        background: transparent;
        border: none;
        outline: none;
        cursor: pointer;
        font-size: 16px;
      }

      .dialog__body {
        padding: 30px 20px;
        color: #606266;
        font-size: 14px;
      }

    </style>
  </head>

  <body>
    <div class="container">
      <h1 class="title">Email signature generator</h1>
      </br>
      <div class="row">
        <div class="col-md-6">
          <fieldset>
            <legend>Employee Information</legend>
            <label for="nm">Name</label>
            <input type="text" name="nm" id="nm" required placeholder="First Last"><br />
            <label for="pro">Pronouns <small>(Optional)</small></label>
            <input type="text" name="pro" id="pro" required placeholder="Pronouns"><br />
            <label for="pos">Position </label>
            <input type="text" name="pos" id="pos" required placeholder="Position/Title"><br />
            <label for="pos">Division <small>(Optional)</small></label>
            <input type="text" name="div" id="div" required placeholder="Departme"><br />
            <label for="tel">Office # </label>
            <input type="text" name="tl" id="tl" required placeholder="315 555 5555" onkeydown="javascript:backspacerDOWN(this,event);" onkeyup="javascript:backspacerUP(this,event);"> <br>
            <label for="mobile">Cell # <small>(Optional)</small></label>
            <input type="text" name="mb" id="mb" required placeholder="315 555 5555" onkeydown="javascript:backspacerDOWN(this,event);" onkeyup="javascript:backspacerUP(this,event);"> <br>
            <small>Please enter your phone numbers as "1234567890", the field will automatically format your entry to match company standards.</small> <br><br>
            <label>Show Legal Disclaimer?</label>
            <input type="checkbox" />
            <fieldset>
              <legend>Select Logo Type:</legend>
              <input id="excellus" type="radio" name="logo" value="standard" checked>
              <label for="excellus">Excellus</label><br>
              <input id="univera" type="radio" name="logo" value="ds">
              <label for="univera">Univera</label><br>
              <input id="lbs" type="radio" name="logo" value="ds">
              <label for="lbs">Lifetime Benefit Solution</label><br>
            </fieldset>
            <fieldset>
              <legend>Select Legal Text:</legend>
              <input id="excellus" type="checkbox" name="confidentiality" value="standard" checked>
              <label for="excellus">Excellus</label><br>
              <input id="univera" type="checkbox" name="tpa" value="ds">
              <label for="univera">Univera</label><br>
              <input id="lbs" type="checkbox" name="cobra" value="ds">
              <label for="lbs">Lifetime Benefit Solution</label><br>
              <input id="lbs" type="checkbox" name="reimbursement" value="ds">
              <label for="lbs">Lifetime Benefit Solution</label><br>
            </fieldset>
          </fieldset>
          </br>
          </br>
          <button class="btn btn-primary" onclick="reviewFunction()">Update Preview</button>
          <button class="btn btn-success" onclick="getFunction()" data-toggle="modal" data-target="#myModal">Get My Signature</button>
          <!-- <input type="checkbox" id="review" name="review" onchange="reviewFunction()" />
      <label for="review">Preview</b></label></br>

      <input type="checkbox" id="get" name="get" onchange="getFunction()"  data-toggle="modal" data-target="#myModal"/>
      <label for="get">Get my code</label> -->
        </div>
        <div class="col-md-6">
          <div id="htmlcode" style="background-color: #ffffff">
            <table border="0" cellpadding="0" cellspacing="0" style="font-family:Arial,Helvetica,sans-serif;line-height:1.5;font-size:12px; background-color:none!important;" bg-color="#ffffff">
              <tr>
                <td bg-color="#ffffff" style="vertical-align:top"><a href="http://www.excellusbcbs.com/" target="_blank"><img src="https://www.excellusbcbs.com/o/excellus-bcbs-theme/images/color_schemes/excellus/logo.svg" style="padding:right;margin-right:10px;height:auto;width:170px" id="companyLogo" title="Excellus BlueCross BlueShield Logo"></a>
                </td>
                <td style="vertical-align:top;padding-left:8px;border-left:2px solid">
                  <table bg-color="#ffffff" border="0" cellpadding="0" cellspacing="0" style="font-size:11px">
                    <tr>
                      <td><span id="name" style="font-weight:600;font-size:12px;color:#222">Jane Doe</span></td>
                    </tr>
                    <tr>
                      <td><em><span id="position">President</span></em></td>
                    </tr>
                    <tr>
                      <td>
                        <table bg-color="#ffffff" border="0" cellpadding="0" cellspacing="0" style="margin-top:5px;font-size:11px">
                          <tr>
                            <td><span style="font-weight:600;color:#222"><a href="http://www.excellusbcbs.com" style="text-decoration:none!important;color:#222!important"><span
                                                                style="color:#222">www.excellusbcbs.com</span></a></span>
                            </td>
                          </tr>
                          <tr>
                            <td><span>165 Court Street | Rochester, New York 14647</span></td>
                          </tr>
                          <tr>
                            <td><span id="tel"><strong>D: </strong>(XXX) XXX-XXXX</span> <span style="font-weight:600;color:#222">O: </span><span>(315) 536-7403</span>
                              <span id="mobile"><strong>C: </strong>(XXX) XXX-XXXX</span>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table>
          </div>
          <br>
          <hr>
          <br>
          <h4>Click on a title below to expand the instructions for adding the copied signature to your email client.</h4>
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingTwo">
                <h4 class="panel-title">
                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Adding signature to Outlook
                  </a>
                </h4>
              </div>
              <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="panel-body">
                  <p><strong>See the official article on <a href="https://support.office.com/en-us/article/create-and-add-a-signature-to-messages-8ee5d4f4-68fd-464a-a1c1-0e1c80bb27f2#bkmk_logo" target="_blank">Microsoft.com</a> for details related to your specific version of outlook.</strong></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="code"></div>
      <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="myModal">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Email Signature Code:</h4>
            </div>
            <div class="modal-body">
              <div id="finalCopyOutput" style="background-color: #ffffff"></div>
              <textarea id="codeOutput" autocomplete="off" rows="10" class="el-textarea__inner sr-only" style="min-height: 33px; z-index: auto; position: relative; line-height: 21px; font-size: 14px; transition: none 0s ease 0s; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255);" spellcheck="true"></textarea>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" id="copyVisual" data-clipboard-target="#htmlcode"><span>Copy Signature</span></button>
              <!-- <button type="button" class="btn btn-primary" id="copyMarkup"  data-clipboard-target="#codeOutput"><span>Copy Code (Advanced)</span></button> -->
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div>
      <p class="sign-off">Questions or problems?</p>
    </div>

      <script type="text/javascript">

        // <!-- Original script is revised by Eralper Yilmaz (http://www.eralper.com) -->
        // <!-- Revised script : http://www.kodyaz.com -->
        // <!-- Format : "(123) 456-7890" -->

        var zChar = new Array(' ', '(', ')', '-', '.');
        var maxphonelength = 14;
        var phonevalue1;
        var phonevalue2;
        var cursorposition;

        function ParseForNumber1(object) {
          phonevalue1 = ParseChar(object.value, zChar);
        }

        function ParseForNumber2(object) {
          phonevalue2 = ParseChar(object.value, zChar);
        }

        function backspacerUP(object, e) {
          if (e) {
            e = e
          } else {
            e = window.event
          }
          if (e.which) {
            var keycode = e.which
          } else {
            var keycode = e.keyCode
          }

          ParseForNumber1(object)

          if (keycode >= 48) {
            ValidatePhone(object)
          }
        }

        function backspacerDOWN(object, e) {
          if (e) {
            e = e
          } else {
            e = window.event
          }
          if (e.which) {
            var keycode = e.which
          } else {
            var keycode = e.keyCode
          }
          ParseForNumber2(object)
        }

        function GetCursorPosition() {

          var t1 = phonevalue1;
          var t2 = phonevalue2;
          var bool = false
          for (i = 0; i < t1.length; i++) {
            if (t1.substring(i, 1) != t2.substring(i, 1)) {
              if (!bool) {
                cursorposition = i
                window.status = cursorposition
                bool = true
              }
            }
          }
        }

        function ValidatePhone(object) {

          var p = phonevalue1

          p = p.replace(/[^\d]*/gi, "")

          if (p.length < 3) {
            object.value = p
          } else if (p.length == 3) {
            pp = p;
            d4 = p.indexOf('(')
            d5 = p.indexOf(')')
            if (d4 == -1) {
              pp = "(" + pp;
            }
            if (d5 == -1) {
              pp = pp + ")";
            }
            object.value = pp;
          } else if (p.length > 3 && p.length < 7) {
            p = "(" + p;
            l30 = p.length;
            p30 = p.substring(0, 4);
            p30 = p30 + ") "

            p31 = p.substring(4, l30);
            pp = p30 + p31;

            object.value = pp;

          } else if (p.length >= 7) {
            p = "(" + p;
            l30 = p.length;
            p30 = p.substring(0, 4);
            p30 = p30 + ") "

            p31 = p.substring(4, l30);
            pp = p30 + p31;

            l40 = pp.length;
            p40 = pp.substring(0, 9);
            p40 = p40 + "-"

            p41 = pp.substring(9, l40);
            ppp = p40 + p41;

            object.value = ppp.substring(0, maxphonelength);
          }

          GetCursorPosition()

          if (cursorposition >= 0) {
            if (cursorposition == 0) {
              cursorposition = 2
            } else if (cursorposition <= 2) {
              cursorposition = cursorposition + 1
            } else if (cursorposition <= 4) {
              cursorposition = cursorposition + 3
            } else if (cursorposition == 5) {
              cursorposition = cursorposition + 3
            } else if (cursorposition == 6) {
              cursorposition = cursorposition + 3
            } else if (cursorposition == 7) {
              cursorposition = cursorposition + 4
            } else if (cursorposition == 8) {
              cursorposition = cursorposition + 4
              e1 = object.value.indexOf(')')
              e2 = object.value.indexOf('-')
              if (e1 > -1 && e2 > -1) {
                if (e2 - e1 == 4) {
                  cursorposition = cursorposition - 1
                }
              }
            } else if (cursorposition == 9) {
              cursorposition = cursorposition + 4
            } else if (cursorposition < 11) {
              cursorposition = cursorposition + 3
            } else if (cursorposition == 11) {
              cursorposition = cursorposition + 1
            } else if (cursorposition == 12) {
              cursorposition = cursorposition + 1
            } else if (cursorposition >= 13) {
              cursorposition = cursorposition
            }

            var txtRange = object.createTextRange();
            txtRange.moveStart("character", cursorposition);
            txtRange.moveEnd("character", cursorposition - object.value.length);
            txtRange.select();
          }

        }

        function ParseChar(sStr, sChar) {

          if (sChar.length == null) {
            zChar = new Array(sChar);
          }
          else zChar = sChar;

          for (i = 0; i < zChar.length; i++) {
            sNewStr = "";

            var iStart = 0;
            var iEnd = sStr.indexOf(sChar[i]);

            while (iEnd != -1) {
              sNewStr += sStr.substring(iStart, iEnd);
              iStart = iEnd + 1;
              iEnd = sStr.indexOf(sChar[i], iStart);
            }
            sNewStr += sStr.substring(sStr.lastIndexOf(sChar[i]) + 1, sStr.length);

            sStr = sNewStr;
          }

          return sNewStr;
        }

        $('input:radio[name="logo"]').change(
          function () {
            var src = "";
            if ($(this).val() == 'excellus') {
              src = "http://www.excellusbcbs.com/";
            }
            else if ($(this).val() == 'univera') {
              src = "http://www.univerahealthcare.com/";
            }
            else {
              src = "http://www.Lifetimebenefitsolution.com/"
            }

            $('#companyLogo').attr('src', src);
            console.log('logo changed');
          });
        var preview = document.getElementById('review'),
          fullname = document.getElementById('name'),
          position = document.getElementById('position'),
          tel = document.getElementById('tel'),
          mobile = document.getElementById('mobile');
        function reviewFunction() {
          //if (preview.checked) {
          console.log('Update Preview button active');
          fullname.innerHTML = nm.value;
          position.innerHTML = pos.value;
          if (tl.value != '') {
            tel.innerHTML = '<strong>D:&nbsp;</strong>' + tl.value;
          } else {
            tel.innerHTML = '';
          }
          if (mb.value != '') {
            mobile.innerHTML = '<strong>C:&nbsp;</strong>' + mb.value;
          } else {
            mobile.innerHTML = '';
          }
          //}
        }

        function getFunction() {
          //if (document.getElementById('get').checked) {
          console.log('Get My Code button active');
          var e = document.getElementById("htmlcode");
          var codeFinal = document.getElementById("codeOutput");
          var visualFinal = document.getElementById("finalCopyOutput");
          codeFinal.innerHTML = e.innerHTML; visualFinal.innerHTML = e.innerHTML;



          //}

        }
      </script>
      <script type="text/javascript">
        var clipboardVisual = new ClipboardJS('#copyVisual');
        clipboardVisual.on('success', function (visualFinal) {
          console.log(visualFinal);
          alert('Email Signature Copied to Clipboard!');
        });
        clipboardVisual.on('error', function (visualFinal) {
          console.log(visualFinal);
        });
      </script>
      <!-- <script src="scripts/index.js"></script> -->
  </body>

</html>
